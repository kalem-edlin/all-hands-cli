# Validation Suite Schema
# Files in .allhands/validation/*.md
# Single source of truth for validation tooling documentation

frontmatter:
  name:
    type: string
    required: true
    description: "Unique suite identifier (matches filename without .md)"

  description:
    type: string
    required: true
    description: "Use case description - when/why to use this suite for validation"

  globs:
    type: array
    items: string
    required: true
    description: "File patterns this suite validates (used for discovery and future hooks)"

  tools:
    type: array
    items: string
    required: true
    description: "CLI tools and packages used by this validation suite (e.g., agent-browser, playwright, axe-core)"

body:
  description: "Validation tooling usage guide â€” two-dimensional (stochastic + deterministic) validation playbook"
  sections:
    - name: "Purpose"
      required: true
      description: "What quality aspects this suite validates (stability, performance, UX, accessibility, etc.)"

    - name: "Tooling"
      required: true
      description: "Tools used by this suite, installation instructions, and configuration"

    - name: "Stochastic Validation"
      required: true
      description: "Agent-driven exploratory validation playbook. Exploratory patterns, edge case probing strategies, and escape hatches for death spirals (max retries, fallback patterns, when to stop and report)"

    - name: "Deterministic Integration"
      required: true
      description: "CI-gated scripted validation. Test scripts, CI configuration, success/failure criteria, and artifact capture"

    - name: "ENV Configuration"
      required: false
      description: "Environment variables and configuration needed for both dimensions. Only present when the suite requires external configuration (base URLs, credentials, providers)"
