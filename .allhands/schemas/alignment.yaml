# Alignment Doc Schema
# Single source of truth for alignment document structure

frontmatter:
  spec_name:
    type: string
    required: true
    description: "Name of the spec this alignment doc serves"

  spec_path:
    type: string
    required: true
    description: "Path to the spec file"

  planning_session:
    type: integer
    required: true
    default: 1
    description: "The current planning session number (1, 2, etc.) incremented each time a planning session is successfully used to change / add prompts"

  validation_gaps_accepted:
    type: array
    items: string
    required: false
    description: "Validation gaps engineer accepted (e.g., 'No E2E - manual UI testing')"

body:
  description: "Markdown document with header and append sections"
  sections:
    - name: "Overview"
      required: true
      description: "High-level overview of spec motivations and goals"

    - name: "Hard User Requirements"
      required: true
      description: "Concise, immutable user requirements. Guidelines for emergent mode."

    - append_format: |
        ### [Prompt ##: Title]
        **Decision**: What was decided
        **Files**: List of key files affected
        **Summary**: Brief explanation
        **Link**: `./prompts/##-title.md`
